(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var r=s.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=function(t,e){var s=e.accessKey,r=e.className,n=e.contenteditable,a=e.dir,i=e.draggable,o=e.dropzone,p=e.hidden,l=e.id,u=e.tabindex,c=e.title,h=e.translate;return s&&(t.accessKey=s),r&&(t.className=r),n&&t.setAttribute("contenteditable","true"),a&&(t.dir=a),i&&(t.draggable=i),o&&t.setAttribute("dropzone",o),p&&(t.hidden=p),l&&(t.id=l),u&&(t.tabIndex=u),c&&(t.title=c),void 0!==h&&(t.translate=h),t},s=function(t,s,r){var n=document.createElement(t);return s&&e(n,s),r&&function(t,e){e.forEach((function(e){t.append(e)}))}(n,r),n},r=function(t,e){var s=e.autofocus,r=e.disabled,n=e.form,a=e.formaction,i=e.formenctype,o=e.formmethod,p=e.formnovalidate,l=e.formtarget,u=e.name,c=e.value;return s&&(t.autofocus=!0),r&&t.setAttribute("disabled","true"),n&&t.setAttribute("form",n),a&&t.setAttribute("formAction",a),i&&t.setAttribute("formenctype",i),o&&t.setAttribute("formmethod",o),p&&t.setAttribute("formnovalidate","true"),l&&t.setAttribute("formtarget",l),u&&t.setAttribute("name",u),c&&t.setAttribute("value",c),t},n=function(t,e){var n=s("button",t,e);if(t){var a=t.type,i=t.onclick;r(n,t),i&&(n.onclick=i),n.setAttribute("type",a||"button")}return n},a=function(t,e){return s("div",t,e)};var i,o=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)});const p=function(t){function e(e){var s=t.call(this,"Layer '".concat(e,"' was not found"))||this;return s.name="LayerNotFound",s}return o(e,t),e}(Error);var l=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},t(e,s)};return function(e,s){if("function"!=typeof s&&null!==s)throw new u("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),u=function(t){function e(e){var s=t.call(this,e)||this;return s.name="TypeError",s}return l(e,t),e}(Error);const c=u;var h=function(){return h=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++)for(var n in e=arguments[s])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},h.apply(this,arguments)},d=function(){function t(t){this.layers={},this.order=[],this.onUpdate=t,this.set=this.set.bind(this),this.remove=this.remove.bind(this),this.get=this.get.bind(this),this.getUrlsList=this.getUrlsList.bind(this),this.update=this.update.bind(this),this.setLayers=this.setLayers.bind(this),this.setLayer=this.setLayer.bind(this),this.removeLayers=this.removeLayers.bind(this),this.removeLayer=this.removeLayer.bind(this),this.updateUrl=this.updateUrl.bind(this),this.updatePositionX=this.updatePositionX.bind(this),this.updatePositionY=this.updatePositionY.bind(this),this.updateDisplayed=this.updateDisplayed.bind(this)}return t.prototype.set=function(t){Array.isArray(t)?this.setLayers(t):this.setLayer(t)},t.prototype.remove=function(t){Array.isArray(t)?this.removeLayers(t):this.removeLayer(t)},t.prototype.get=function(t){if(t){if(!this.layers[t])throw new p(t);return this.layers[t]}return this.layers},t.prototype.getUrlsList=function(){var t=this;return Object.entries(this.layers).filter((function(t){return t[1].displayed})).map((function(e){var s=e[0];return t.layers[s].url}))},t.prototype.update=function(t,e,s){var r,n;if(!this.layers[t])throw new p(t);({url:this.updateUrl,positionX:this.updatePositionX,positionY:this.updatePositionY,displayed:this.updateDisplayed})[e](t,s),"url"===e&&(null===(n=(r=this.layers[t]).onUrlUpdated)||void 0===n||n.call(r,String(s))),this.onUpdate&&this.onUpdate(this.layers)},t.prototype.setLayers=function(t){var e=this;t.forEach((function(t){return e.setLayer(t)}))},t.prototype.setLayer=function(t){var e=t.name,s=t.positionX,r=t.positionY,n=t.displayed;this.layers[e]?this.layers[e]=h(h({},t),{positionX:s||this.layers[e].positionX,positionY:r||this.layers[e].positionY,order:this.layers[e].order,displayed:void 0===n||n}):(this.order.push(e),this.layers[e]=h(h({},t),{positionX:s||0,positionY:r||0,order:this.order.length-1,displayed:void 0===n||n}))},t.prototype.removeLayers=function(t){var e=this;t.forEach((function(t){return e.removeLayer(t)}))},t.prototype.removeLayer=function(t){this.layers[t]&&(this.order=this.order.splice(this.layers[t].order,1),delete this.layers[t])},t.prototype.updateUrl=function(t,e){if("string"!=typeof e)throw new c("Url for '".concat(t,"' is supposed to have string type. Now the type is '").concat(typeof e,"'"));this.layers[t].url=e},t.prototype.updatePositionX=function(t,e){if("number"!=typeof e)throw new c("PositionX for '".concat(t,"' is supposed to have number type. Now the type is '").concat(typeof e,"'"));this.layers[t].positionX=e},t.prototype.updatePositionY=function(t,e){if("number"!=typeof e)throw new c("PositionY for '".concat(t,"' is supposed to have number type. Now the type is '").concat(typeof e,"'"));this.layers[t].positionY=e},t.prototype.updateDisplayed=function(t,e){if("boolean"!=typeof e)throw new c("Displayed for '".concat(t,"' is supposed to have boolean type. Now the type is '").concat(typeof e,"'"));this.layers[t].displayed=e},t}();const g=d;var f=function(){function t(t,e){this.layers=t,this.render=e,this.render(this.layers.getUrlsList())}return t.prototype.save=function(){return e=this,r=void 0,a=function(){var e,r,n,a;return function(t,e){var s,r,n,a,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(p){return function(o){if(s)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(i=0)),i;)try{if(s=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{s=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,p])}}}(this,(function(i){switch(i.label){case 0:return[4,Promise.all(this.layers.getUrlsList().map((function(e){return t.getElement(e)})))];case 1:return e=i.sent(),r=e.join(),n=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 450 378">'+r+"</svg>"],{type:"image/svg+xml"}),a=function(t,e){var r=s("a",t,e);if(t){var n=t.download,a=t.href,i=t.hreflang,o=t.ping,p=t.referrerpolicy,l=t.rel,u=t.target,c=t.type;n&&r.setAttribute("download","string"==typeof n?n:"true"),a&&r.setAttribute("href",a),i&&r.setAttribute("hreflang",i),o&&r.setAttribute("ping",o),p&&r.setAttribute("referrerpolicy",p),l&&r.setAttribute("rel",l),u&&r.setAttribute("target",u),c&&r.setAttribute("type",c)}return r}({href:URL.createObjectURL(n),download:"avatar.svg"},["download"]),document.body.append(a),a.click(),a.remove(),[2]}}))},new((n=void 0)||(n=Promise))((function(t,s){function i(t){try{p(a.next(t))}catch(t){s(t)}}function o(t){try{p(a.throw(t))}catch(t){s(t)}}function p(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(t){t(s)}))).then(i,o)}p((a=a.apply(e,r||[])).next())}));var e,r,n,a},t.getElement=function(t){return fetch(t).then((function(t){return t.text()})).then((function(t){var e;return null===(e=(new DOMParser).parseFromString(t,"image/svg+xml").querySelector("svg"))||void 0===e?void 0:e.innerHTML}))},t}();const _=f,v=t.p+"assets/fon_dark.svg",y=t.p+"assets/fon_light.svg",b=t.p+"assets/13_chair.svg",m=t.p+"assets/shirt-blue.svg",w=t.p+"assets/shirt-green.svg",A=t.p+"assets/shirt-orange.svg",k=t.p+"assets/shirt-pink.svg",D=t.p+"assets/shirt-red.svg",B=t.p+"assets/shirt-white.svg",C=t.p+"assets/shirt-yellow.svg",x=t.p+"assets/body_white.svg",O=t.p+"assets/body_tan.svg",L=t.p+"assets/body_tan_1.svg",F=t.p+"assets/body_brown.svg",P=t.p+"assets/body_black.svg",U=t.p+"assets/hair_balding_black.svg",E=t.p+"assets/hair_balding_blond.svg",N=t.p+"assets/hair_balding_brown.svg",S=t.p+"assets/hair_balding_grey.svg",T=t.p+"assets/hair_balding_purple.svg",j=t.p+"assets/hair_balding_red.svg",I=t.p+"assets/hair_curlyLong_black.svg",X=t.p+"assets/hair_curlyLong_blond.svg",Y=t.p+"assets/hair_curlyLong_brown.svg",M=t.p+"assets/hair_curlyLong_grey.svg",z=t.p+"assets/hair_curlyLong_purple.svg",q=t.p+"assets/hair_curlyLong_red.svg",$=t.p+"assets/hair_curlyShort_black.svg",H=t.p+"assets/hair_curlyShort_blond.svg",K=t.p+"assets/hair_curlyShort_brown.svg",R=t.p+"assets/hair_curlyShort_grey.svg",G=t.p+"assets/hair_curlyShort_purple.svg",W=t.p+"assets/hair_curlyShort_red.svg",J=t.p+"assets/hair_straightShort_black.svg",Q=t.p+"assets/hair_straightShort_blond.svg",V=t.p+"assets/hair_straightShort_brown.svg",Z=t.p+"assets/hair_straightShort_grey.svg",tt=t.p+"assets/hair_straightShort_purple.svg",et=t.p+"assets/hair_straightShort_red.svg",st=t.p+"assets/hair_straightLong_black.svg",rt=t.p+"assets/hair_straightLong_blond.svg",nt=t.p+"assets/hair_straightLong_brown.svg",at=t.p+"assets/hair_straightLong_grey.svg",it=t.p+"assets/hair_straightLong_purple.svg",ot=t.p+"assets/hair_straightLong_red.svg",pt=t.p+"assets/eyes_big_blue.svg",lt=t.p+"assets/eyes_big_brown.svg",ut=t.p+"assets/eyes_big_green.svg",ct=t.p+"assets/eyes_big_2_blue.svg",ht=t.p+"assets/eyes_big_2_brown.svg",dt=t.p+"assets/eyes_big_2_green.svg",gt=t.p+"assets/eyes_big_3_blue.svg",ft=t.p+"assets/eyes_big_3_brown.svg",_t=t.p+"assets/eyes_big_3_green.svg",vt=t.p+"assets/eyes_blue.svg",yt=t.p+"assets/eyes_brown.svg",bt=t.p+"assets/eyes_green.svg",mt=t.p+"assets/eyes_skinny_blue.svg",wt=t.p+"assets/eyes_skinny_brown.svg",At=t.p+"assets/eyes_skinny_green.svg",kt=t.p+"assets/eyebrows_1.svg",Dt=t.p+"assets/eyebrows_2.svg",Bt=t.p+"assets/eyebrows_3.svg",Ct=t.p+"assets/eyebrows_4.svg",xt=t.p+"assets/eyebrows_5.svg",Ot=t.p+"assets/lashes_1-01.svg",Lt=t.p+"assets/lashes_2-01.svg",Ft=t.p+"assets/lashes_3-01.svg",Pt=t.p+"assets/glasses_1.svg",Ut=t.p+"assets/glasses_2.svg",Et=t.p+"assets/nose_1.svg",Nt=t.p+"assets/nose_2.svg",St=t.p+"assets/nose_3.svg",Tt=t.p+"assets/nose_4.svg",jt=t.p+"assets/nose_5.svg",It=t.p+"assets/nose_6.svg",Xt=t.p+"assets/nose_7.svg",Yt=t.p+"assets/nose_8.svg",Mt=t.p+"assets/mouth_1.svg",zt=t.p+"assets/mouth_2-01.svg",qt=t.p+"assets/lips_1_normal.svg",$t=t.p+"assets/lips_1_pink.svg",Ht=t.p+"assets/lips_1_red.svg",Kt=t.p+"assets/lips_2_normal.svg",Rt=t.p+"assets/lips_2_pink.svg",Gt=t.p+"assets/lips_2_red.svg",Wt=t.p+"assets/lips_3_normal.svg",Jt=t.p+"assets/lips_3_pink.svg",Qt=t.p+"assets/lips_3_red.svg",Vt=t.p+"assets/lips_4_normal.svg",Zt=t.p+"assets/lips_4_pink.svg",te=t.p+"assets/lips_4_red.svg",ee=t.p+"assets/beard_2_black.svg",se=t.p+"assets/beard_2_blond.svg",re=t.p+"assets/beard_2_brown.svg",ne=t.p+"assets/beard_2_grey.svg",ae=t.p+"assets/beard_2_purple.svg",ie=t.p+"assets/beard_2_red.svg",oe=t.p+"assets/beard_goatee_black.svg",pe=t.p+"assets/beard_goatee_blond.svg",le=t.p+"assets/beard_goatee_brown.svg",ue=t.p+"assets/beard_goatee_grey.svg",ce=t.p+"assets/beard_goatee_purple.svg",he=t.p+"assets/beard_goatee_red.svg",de=t.p+"assets/mustache_black-01.svg",ge=t.p+"assets/mustache_blond-01.svg",fe=t.p+"assets/mustache_brown-01.svg",_e=t.p+"assets/mustache_grey.svg",ve=t.p+"assets/mustache_purple-01.svg",ye=t.p+"assets/mustache_red-01.svg",be=t.p+"assets/ear_white.svg",me=t.p+"assets/ear_tan.svg",we=t.p+"assets/ear_tan_1.svg",Ae=t.p+"assets/ear_brown.svg",ke=t.p+"assets/ear_black.svg",De=t.p+"assets/9_watch.svg",Be=t.p+"assets/text_for_dark.svg",Ce=t.p+"assets/text_for_light.svg",xe=t.p+"assets/15_text_Carma.svg",Oe=t.p+"assets/text_light.svg",Le=t.p+"assets/text_dark.svg",Fe={background:{elements:{default:{"#ffcd05":y,"#1B003D":v}}},chair:{hideToolPanel:!0,elements:{default:{0:b}}},shirt:{elements:{default:{"#0F71BA":m,"#1FB574":w,"#F79421":A,"#B96DAD":k,"#EC2128":D,"#FFFFFF":B,"#fff272":C}}},face:{elements:{default:{"#DDC190":x,"#B19177":O,"#AC8357":L,"#4a3221":F,"#23160F":P}}},hair:{hasCheckBox:!0,defaultDisplayed:!0,elements:{straightShort:{"#2F2B2C":J,"#F4EDC9":Q,"#6A604F":V,"#747678":Z,"#6B4099":tt,"#DB4B25":et},balding:{"2F2B2C":U,"#F4EDC9":E,"#6A604F":N,"#747678":S,"#6B4099":T,"#DB4B25":j},curleyLong:{"#2F2B2C":I,"#F4EDC9":X,"#6A604F":Y,"#747678":M,"#6B4099":z,"#DB4B25":q},curlyShort:{"#2F2B2C":$,"#F4EDC9":H,"#6A604F":K,"#747678":R,"#6B4099":G,"#DB4B25":W},straightLong:{"#2F2B2C":st,"#F4EDC9":rt,"#6A604F":nt,"#747678":at,"#6B4099":it,"#DB4B25":ot}}},eyes:{elements:{big_3:{"#009FD4":gt,"#563B0C":ft,"#119D5A":_t},big:{"#009FD4":pt,"#563B0C":lt,"#119D5A":ut},big_2:{"#009FD4":ct,"#563B0C":ht,"#119D5A":dt},normal:{"#009FD4":vt,"#563B0C":yt,"#119D5A":bt},skinny:{"#009FD4":mt,"#563B0C":wt,"#119D5A":At}}},eyebrows:{elements:{1:{default:kt},2:{default:Dt},3:{default:Bt},4:{default:Ct},5:{default:xt}}},lashes:{hasCheckBox:!0,defaultDisplayed:!1,elements:{1:{default:Ot},2:{default:Lt},3:{default:Ft}}},glasses:{hasCheckBox:!0,defaultDisplayed:!0,elements:{1:{default:Pt},2:{default:Ut}}},nose:{elements:{1:{default:Et},2:{default:Nt},3:{default:St},4:{default:Tt},5:{default:jt},6:{default:It},7:{default:Xt},8:{default:Yt}}},mouth:{elements:{mouth_1:{"#AD7A66":Mt,"#B96DAD":Mt,"#D23A34":Mt},mouth_2:{"#AD7A66":zt,"#B96DAD":zt,"#D23A34":zt},lips_1:{"#AD7A66":qt,"#B96DAD":$t,"#D23A34":Ht},lips_2:{"#AD7A66":Kt,"#B96DAD":Rt,"#D23A34":Gt},lips_3:{"#AD7A66":Wt,"#B96DAD":Jt,"#D23A34":Qt},lips_4:{"#AD7A66":Vt,"#B96DAD":Zt,"#D23A34":te}}},mustache:{hasCheckBox:!0,defaultDisplayed:!1,elements:{beard:{"#2F2B2C":ee,"#F4EDC9":se,"#6A604F":re,"#747678":ne,"#6B4099":ae,"#DB4B25":ie},goatee:{"#2F2B2C":oe,"#F4EDC9":pe,"#6A604F":le,"#747678":ue,"#6B4099":ce,"#DB4B25":he},mustache:{"#2F2B2C":de,"#F4EDC9":ge,"#6A604F":fe,"#747678":_e,"#6B4099":ve,"#DB4B25":ye}}},ear:{hideToolPanel:!0,elements:{default:{white:be,tan:me,chocolate:we,brown:Ae,black:ke}}},watch:{hasCheckBox:!0,defaultDisplayed:!0,elements:{0:{default:De}}},text:{hideToolPanel:!0,elements:{default:{dark:Ce,light:Be}}},textCarma:{hideToolPanel:!0,elements:{0:{default:xe}}},lightningOurPath:{hideToolPanel:!0,elements:{default:{dark:Le,light:Oe}}}};var Pe=function(){function t(t){var e=t.container,s=t.name,r=t.config,n=t.updateCallback,a=this;this.pickedOptionIndex=0,this.container=e,this.name=s,this.config=r,this.updateUrl=function(){return n(s,"url",a.getCurrentUrl())},this.updateDisplayed=function(t){return n(s,"displayed",t)},this.itemOptions=Object.keys(this.config.elements),this.itemColors=Object.keys(this.config.elements[this.itemOptions[0]]),this.pickedColor=this.itemColors[0],this.render()}return t.prototype.render=function(){var t,e,n=this,i=a({className:"ToolPanel__group"}),o=(t={className:"ToolPanel__title"},e=[this.name],s("p",t,e)),p=function(t,e){var n=s("input",t,e);if(t){var a=t.type,i=t.accept,o=t.autocomplete,p=t.checked,l=t.inputmode,u=t.list,c=t.max,h=t.maxlength,d=t.min,g=t.minlength,f=t.multiple,_=t.pattern,v=t.placeholder,y=t.readonly,b=t.required,m=t.size,w=t.spellcheck,A=t.src,k=t.step;r(n,t),a&&n.setAttribute("type",a),i&&n.setAttribute("accept",i),o&&n.setAttribute("autocomplete",o),p&&n.setAttribute("checked","true"),l&&(n.inputMode=l),u&&n.setAttribute("list",u),c&&n.setAttribute("max",c),h&&n.setAttribute("maxlength",h),d&&n.setAttribute("min",d),g&&n.setAttribute("minlength",g),f&&n.setAttribute("multiple","true"),_&&n.setAttribute("pattern",_),v&&n.setAttribute("placeholder",v),y&&n.setAttribute("readonly","true"),b&&n.setAttribute("required","true"),m&&n.setAttribute("size",m),w&&n.setAttribute("spellcheck","true"),A&&n.setAttribute("src",A),k&&n.setAttribute("step",String(k))}return n}({type:"checkbox",className:"ToolPanel__checkbox",checked:this.config.defaultDisplayed});p.onchange=function(t){return n.updateDisplayed(t.currentTarget.checked)};var l=function(t,e){var r=s("label",t,e);return t&&t.for&&r.setAttribute("for",t.for),r}({className:"ToolPanel__titleWithCheckbox"},[p,o]),u=this.itemOptions.length>1?this.renderButtons():null,c=this.itemColors.length>1?this.renderColors():null;this.config.hasCheckBox?i.append(l):i.append(o),u&&i.append(u),c&&i.append(c),this.container.append(i)},t.prototype.renderButtons=function(){var t=this,e=a({className:"ToolPanel__buttons"}),s=n({className:"ToolPanel__prevButton",onclick:function(){t.previousOption()}},["<"]),r=n({className:"ToolPanel__nextButton",onclick:function(){t.nextOption()}},[">"]);return e.append(s),e.append(r),e},t.prototype.renderColors=function(){var t=this,e=a({className:"ToolPanel__colorPicker"});return this.itemColors.forEach((function(s){var r=a({className:"ToolPanel__colorCircle"});r.setAttribute("style","background: ".concat(s)),r.onclick=function(){return t.setColor(s)},e.append(r)})),e},t.prototype.nextOption=function(){this.pickedOptionIndex===this.itemOptions.length-1?this.pickedOptionIndex=0:this.pickedOptionIndex+=1,this.updateUrl()},t.prototype.previousOption=function(){0===this.pickedOptionIndex?this.pickedOptionIndex=this.itemOptions.length-1:this.pickedOptionIndex-=1,this.updateUrl()},t.prototype.setColor=function(t){this.pickedColor=t,this.updateUrl()},t.prototype.getCurrentUrl=function(){return this.config.elements[this.itemOptions[this.pickedOptionIndex]][this.pickedColor]},t}();const Ue=Pe;const Ee=function(){function t(t,e,s){this.toolPanelItems=[],this.container=t,this.elements=e,this.update=s,this.render()}return t.prototype.render=function(){var t=this,e=a({className:"ToolPanel"});Object.entries(this.elements).forEach((function(s){var r=s[0],n=s[1];n.hideToolPanel||t.toolPanelItems.push(new Ue({container:e,name:r,config:n,updateCallback:t.update}))})),this.container.append(e)},t}();var Ne,Se=((Ne={})[x]=be,Ne[O]=me,Ne[L]=we,Ne[F]=Ae,Ne[P]=ke,Ne);var Te,je=((Te={})[v]=Be,Te[y]=Ce,Te);var Ie,Xe=((Ie={})[v]=Oe,Ie[y]=Le,Ie);var Ye=a({id:"block-container",className:"blockContainer"});document.body.append(Ye);var Me=a({className:"Avatar"});Ye.append(Me);var ze=a({className:"Avatar__imageContainer"});Me.append(ze);var qe=a({id:"image-container",className:"Avatar__image"});ze.append(qe);var $e=function(t){qe.innerHTML="",t.forEach((function(t){qe.append(function(t){var s=new Image;if(t){e(s,t);var r=t.alt,n=t.crossorigin,a=t.decoding,i=t.ismap,o=t.src;r&&(s.alt=r),n&&(s.crossOrigin=n),a&&(s.decoding=a),i&&(s.isMap=i),o&&(s.src=o)}return s}({src:t,className:"Avatar__layer"}))}))},He=new g((function(t){$e(Object.entries(t).filter((function(t){return t[1].displayed})).map((function(e){var s=e[0];return t[s].url})))}));He.set(Object.entries(Fe).map((function(t){var e=t[0],s=t[1],r=s.defaultDisplayed,n=Object.values(s.elements)[0],a={name:e,url:Object.values(n)[0],displayed:r};return"face"===e&&(a.onUrlUpdated=function(t){He.update("ear","url",Se[t])}),"background"===e&&(a.onUrlUpdated=function(t){He.update("text","url",je[t]),He.update("lightningOurPath","url",function(t){return Xe[t]}(t))}),a})));var Ke=new _(He,$e),Re=a({className:"Avatar__toolPanelContainer"});Me.append(Re),new Ee(Re,Fe,(function(t,e,s){He.update(t,e,s)}));var Ge=n({onclick:function(){return Ke.save()},className:"button"},["Download"]);Re.append(Ge)})();