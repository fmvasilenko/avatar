(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var r=s.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=function(t,e){var s=e.accessKey,r=e.className,a=e.contenteditable,n=e.dir,i=e.draggable,o=e.dropzone,p=e.hidden,l=e.id,u=e.tabindex,c=e.title,h=e.translate;return s&&(t.accessKey=s),r&&(t.className=r),a&&t.setAttribute("contenteditable","true"),n&&(t.dir=n),i&&(t.draggable=i),o&&t.setAttribute("dropzone",o),p&&(t.hidden=p),l&&(t.id=l),u&&(t.tabIndex=u),c&&(t.title=c),void 0!==h&&(t.translate=h),t},s=function(t,s,r){var a=document.createElement(t);return s&&e(a,s),r&&function(t,e){e.forEach((function(e){t.append(e)}))}(a,r),a},r=function(t,e){var s=e.autofocus,r=e.disabled,a=e.form,n=e.formaction,i=e.formenctype,o=e.formmethod,p=e.formnovalidate,l=e.formtarget,u=e.name,c=e.value;return s&&(t.autofocus=!0),r&&t.setAttribute("disabled","true"),a&&t.setAttribute("form",a),n&&t.setAttribute("formAction",n),i&&t.setAttribute("formenctype",i),o&&t.setAttribute("formmethod",o),p&&t.setAttribute("formnovalidate","true"),l&&t.setAttribute("formtarget",l),u&&t.setAttribute("name",u),c&&t.setAttribute("value",c),t},a=function(t,e){var a=s("button",t,e);if(t){var n=t.type,i=t.onclick;r(a,t),i&&(a.onclick=i),a.setAttribute("type",n||"button")}return a},n=function(t,e){return s("div",t,e)};var i,o=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)});const p=function(t){function e(e){var s=t.call(this,"Layer '".concat(e,"' was not found"))||this;return s.name="LayerNotFound",s}return o(e,t),e}(Error);var l=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},t(e,s)};return function(e,s){if("function"!=typeof s&&null!==s)throw new u("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),u=function(t){function e(e){var s=t.call(this,e)||this;return s.name="TypeError",s}return l(e,t),e}(Error);const c=u;var h=function(){return h=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++)for(var a in e=arguments[s])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},h.apply(this,arguments)},d=function(){function t(t){this.layers={},this.order=[],this.onUpdate=t,this.set=this.set.bind(this),this.remove=this.remove.bind(this),this.get=this.get.bind(this),this.getUrlsList=this.getUrlsList.bind(this),this.update=this.update.bind(this),this.setLayers=this.setLayers.bind(this),this.setLayer=this.setLayer.bind(this),this.removeLayers=this.removeLayers.bind(this),this.removeLayer=this.removeLayer.bind(this),this.updateUrl=this.updateUrl.bind(this),this.updatePositionX=this.updatePositionX.bind(this),this.updatePositionY=this.updatePositionY.bind(this),this.updateDisplayed=this.updateDisplayed.bind(this)}return t.prototype.set=function(t){Array.isArray(t)?this.setLayers(t):this.setLayer(t)},t.prototype.remove=function(t){Array.isArray(t)?this.removeLayers(t):this.removeLayer(t)},t.prototype.get=function(t){if(t){if(!this.layers[t])throw new p(t);return this.layers[t]}return this.layers},t.prototype.getUrlsList=function(){var t=this;return Object.entries(this.layers).filter((function(t){return t[1].displayed})).map((function(e){var s=e[0];return t.layers[s].url}))},t.prototype.update=function(t,e,s){var r,a;if(!this.layers[t])throw new p(t);({url:this.updateUrl,positionX:this.updatePositionX,positionY:this.updatePositionY,displayed:this.updateDisplayed})[e](t,s),"url"===e&&(null===(a=(r=this.layers[t]).onUrlUpdated)||void 0===a||a.call(r,String(s))),this.onUpdate&&this.onUpdate(this.layers)},t.prototype.setLayers=function(t){var e=this;t.forEach((function(t){return e.setLayer(t)}))},t.prototype.setLayer=function(t){var e=t.name,s=t.positionX,r=t.positionY,a=t.displayed;this.layers[e]?this.layers[e]=h(h({},t),{positionX:s||this.layers[e].positionX,positionY:r||this.layers[e].positionY,order:this.layers[e].order,displayed:void 0===a||a}):(this.order.push(e),this.layers[e]=h(h({},t),{positionX:s||0,positionY:r||0,order:this.order.length-1,displayed:void 0===a||a}))},t.prototype.removeLayers=function(t){var e=this;t.forEach((function(t){return e.removeLayer(t)}))},t.prototype.removeLayer=function(t){this.layers[t]&&(this.order=this.order.splice(this.layers[t].order,1),delete this.layers[t])},t.prototype.updateUrl=function(t,e){if("string"!=typeof e)throw new c("Url for '".concat(t,"' is supposed to have string type. Now the type is '").concat(typeof e,"'"));this.layers[t].url=e},t.prototype.updatePositionX=function(t,e){if("number"!=typeof e)throw new c("PositionX for '".concat(t,"' is supposed to have number type. Now the type is '").concat(typeof e,"'"));this.layers[t].positionX=e},t.prototype.updatePositionY=function(t,e){if("number"!=typeof e)throw new c("PositionY for '".concat(t,"' is supposed to have number type. Now the type is '").concat(typeof e,"'"));this.layers[t].positionY=e},t.prototype.updateDisplayed=function(t,e){if("boolean"!=typeof e)throw new c("Displayed for '".concat(t,"' is supposed to have boolean type. Now the type is '").concat(typeof e,"'"));this.layers[t].displayed=e},t}();const g=d;var _=function(){function t(t,e){this.layers=t,this.render=e,this.render(this.layers.getUrlsList())}return t.prototype.save=function(){return e=this,r=void 0,n=function(){var e,r,a,n;return function(t,e){var s,r,a,n,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(o){return function(p){return function(o){if(s)throw new TypeError("Generator is already executing.");for(;n&&(n=0,o[0]&&(i=0)),i;)try{if(s=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{s=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,p])}}}(this,(function(i){switch(i.label){case 0:return[4,Promise.all(this.layers.getUrlsList().map((function(e){return t.getElement(e)})))];case 1:return e=i.sent(),r=e.join(),a=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 450 378">'+r+"</svg>"],{type:"image/svg+xml"}),n=function(t,e){var r=s("a",t,e);if(t){var a=t.download,n=t.href,i=t.hreflang,o=t.ping,p=t.referrerpolicy,l=t.rel,u=t.target,c=t.type;a&&r.setAttribute("download","string"==typeof a?a:"true"),n&&r.setAttribute("href",n),i&&r.setAttribute("hreflang",i),o&&r.setAttribute("ping",o),p&&r.setAttribute("referrerpolicy",p),l&&r.setAttribute("rel",l),u&&r.setAttribute("target",u),c&&r.setAttribute("type",c)}return r}({href:URL.createObjectURL(a),download:"avatar.svg"},["download"]),document.body.append(n),n.click(),n.remove(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,s){function i(t){try{p(n.next(t))}catch(t){s(t)}}function o(t){try{p(n.throw(t))}catch(t){s(t)}}function p(e){var s;e.done?t(e.value):(s=e.value,s instanceof a?s:new a((function(t){t(s)}))).then(i,o)}p((n=n.apply(e,r||[])).next())}));var e,r,a,n},t.getElement=function(t){return fetch(t).then((function(t){return t.text()})).then((function(t){var e;return null===(e=(new DOMParser).parseFromString(t,"image/svg+xml").querySelector("svg"))||void 0===e?void 0:e.innerHTML}))},t}();const v=_,f=t.p+"assets/fon_dark.svg",y=t.p+"assets/fon_light.svg",b=t.p+"assets/13_chair.svg",m=t.p+"assets/shirt-blue.svg",w=t.p+"assets/shirt-green.svg",A=t.p+"assets/shirt-orange.svg",k=t.p+"assets/shirt-pink.svg",D=t.p+"assets/shirt-red.svg",B=t.p+"assets/shirt-white.svg",C=t.p+"assets/shirt-yellow.svg",x=t.p+"assets/body_white.svg",F=t.p+"assets/body_tan.svg",O=t.p+"assets/body_tan_1.svg",L=t.p+"assets/body_brown.svg",P=t.p+"assets/body_black.svg",U=t.p+"assets/hair_balding_black.svg",E=t.p+"assets/hair_balding_blond.svg",N=t.p+"assets/hair_balding_brown.svg",S=t.p+"assets/hair_balding_grey.svg",T=t.p+"assets/hair_balding_purple.svg",j=t.p+"assets/hair_balding_red.svg",I=t.p+"assets/hair_curlyLong_black.svg",X=t.p+"assets/hair_curlyLong_blond.svg",Y=t.p+"assets/hair_curlyLong_brown.svg",M=t.p+"assets/hair_curlyLong_grey.svg",z=t.p+"assets/hair_curlyLong_purple.svg",q=t.p+"assets/hair_curlyLong_red.svg",$=t.p+"assets/hair_curlyShort_black.svg",H=t.p+"assets/hair_curlyShort_blond.svg",K=t.p+"assets/hair_curlyShort_brown.svg",R=t.p+"assets/hair_curlyShort_grey.svg",G=t.p+"assets/hair_curlyShort_purple.svg",W=t.p+"assets/hair_curlyShort_red.svg",J=t.p+"assets/hair_straightShort_black.svg",Q=t.p+"assets/hair_straightShort_blond.svg",V=t.p+"assets/hair_straightShort_brown.svg",Z=t.p+"assets/hair_straightShort_grey.svg",tt=t.p+"assets/hair_straightShort_purple.svg",et=t.p+"assets/hair_straightShort_red.svg",st=t.p+"assets/hair_short_black.svg",rt=t.p+"assets/hair_short_blond.svg",at=t.p+"assets/hair_short_brown.svg",nt=t.p+"assets/hair_short_grey.svg",it=t.p+"assets/hair_short_purple.svg",ot=t.p+"assets/hair_short_red.svg",pt=t.p+"assets/hair_straightLong_black.svg",lt=t.p+"assets/hair_straightLong_blond.svg",ut=t.p+"assets/hair_straightLong_brown.svg",ct=t.p+"assets/hair_straightLong_grey.svg",ht=t.p+"assets/hair_straightLong_purple.svg",dt=t.p+"assets/hair_straightLong_red.svg",gt=t.p+"assets/eyes_big_blue.svg",_t=t.p+"assets/eyes_big_brown.svg",vt=t.p+"assets/eyes_big_green.svg",ft=t.p+"assets/eyes_big_2_blue.svg",yt=t.p+"assets/eyes_big_2_brown.svg",bt=t.p+"assets/eyes_big_2_green.svg",mt=t.p+"assets/eyes_big_3_blue.svg",wt=t.p+"assets/eyes_big_3_brown.svg",At=t.p+"assets/eyes_big_3_green.svg",kt=t.p+"assets/eyes_blue.svg",Dt=t.p+"assets/eyes_brown.svg",Bt=t.p+"assets/eyes_green.svg",Ct=t.p+"assets/eyes_skinny_blue.svg",xt=t.p+"assets/eyes_skinny_brown.svg",Ft=t.p+"assets/eyes_skinny_green.svg",Ot=t.p+"assets/eyebrows_1.svg",Lt=t.p+"assets/eyebrows_2.svg",Pt=t.p+"assets/eyebrows_3.svg",Ut=t.p+"assets/eyebrows_4.svg",Et=t.p+"assets/eyebrows_5.svg",Nt=t.p+"assets/lashes_01.svg",St=t.p+"assets/glasses_1.svg",Tt=t.p+"assets/glasses_2.svg",jt=t.p+"assets/nose_1.svg",It=t.p+"assets/nose_2.svg",Xt=t.p+"assets/nose_3.svg",Yt=t.p+"assets/nose_4.svg",Mt=t.p+"assets/nose_5.svg",zt=t.p+"assets/nose_6.svg",qt=t.p+"assets/nose_7.svg",$t=t.p+"assets/nose_8.svg",Ht=t.p+"assets/mouth_1.svg",Kt=t.p+"assets/mouth_2-01.svg",Rt=t.p+"assets/lips_1_normal.svg",Gt=t.p+"assets/lips_1_pink.svg",Wt=t.p+"assets/lips_1_red.svg",Jt=t.p+"assets/lips_2_normal.svg",Qt=t.p+"assets/lips_2_pink.svg",Vt=t.p+"assets/lips_2_red.svg",Zt=t.p+"assets/lips_3_normal.svg",te=t.p+"assets/lips_3_pink.svg",ee=t.p+"assets/lips_3_red.svg",se=t.p+"assets/lips_4_normal.svg",re=t.p+"assets/lips_4_pink.svg",ae=t.p+"assets/lips_4_red.svg",ne=t.p+"assets/beard_2_black.svg",ie=t.p+"assets/beard_2_blond.svg",oe=t.p+"assets/beard_2_brown.svg",pe=t.p+"assets/beard_2_grey.svg",le=t.p+"assets/beard_2_purple.svg",ue=t.p+"assets/beard_2_red.svg",ce=t.p+"assets/beard_goatee_black.svg",he=t.p+"assets/beard_goatee_blond.svg",de=t.p+"assets/beard_goatee_brown.svg",ge=t.p+"assets/beard_goatee_grey.svg",_e=t.p+"assets/beard_goatee_purple.svg",ve=t.p+"assets/beard_goatee_red.svg",fe=t.p+"assets/mustache_black-01.svg",ye=t.p+"assets/mustache_blond-01.svg",be=t.p+"assets/mustache_brown-01.svg",me=t.p+"assets/mustache_grey.svg",we=t.p+"assets/mustache_purple-01.svg",Ae=t.p+"assets/mustache_red-01.svg",ke=t.p+"assets/ear_white.svg",De=t.p+"assets/ear_tan.svg",Be=t.p+"assets/ear_tan_1.svg",Ce=t.p+"assets/ear_brown.svg",xe=t.p+"assets/ear_black.svg",Fe=t.p+"assets/earing_diamond.svg",Oe=t.p+"assets/earing_golden.svg",Le=t.p+"assets/earing_silver.svg",Pe=t.p+"assets/9_watch.svg",Ue=t.p+"assets/text_for_dark.svg",Ee=t.p+"assets/text_for_light.svg",Ne=t.p+"assets/15_text_Carma.svg",Se=t.p+"assets/text_light.svg",Te=t.p+"assets/text_dark.svg",je={background:{elements:{default:{"#ffcd05":y,"#1B003D":f}}},chair:{hideToolPanel:!0,elements:{default:{0:b}}},shirt:{elements:{default:{"#0F71BA":m,"#1FB574":w,"#F79421":A,"#B96DAD":k,"#EC2128":D,"#FFFFFF":B,"#fff272":C}}},face:{elements:{default:{"#DDC190":x,"#B19177":F,"#AC8357":O,"#4a3221":L,"#23160F":P}}},hair:{hasCheckBox:!0,defaultDisplayed:!0,elements:{straightShort:{"#2F2B2C":J,"#F4EDC9":Q,"#6A604F":V,"#747678":Z,"#6B4099":tt,"#DB4B25":et},balding:{"2F2B2C":U,"#F4EDC9":E,"#6A604F":N,"#747678":S,"#6B4099":T,"#DB4B25":j},curleyLong:{"#2F2B2C":I,"#F4EDC9":X,"#6A604F":Y,"#747678":M,"#6B4099":z,"#DB4B25":q},curlyShort:{"#2F2B2C":$,"#F4EDC9":H,"#6A604F":K,"#747678":R,"#6B4099":G,"#DB4B25":W},short:{"#2F2B2C":st,"#F4EDC9":rt,"#6A604F":at,"#747678":nt,"#6B4099":it,"#DB4B25":ot},straightLong:{"#2F2B2C":pt,"#F4EDC9":lt,"#6A604F":ut,"#747678":ct,"#6B4099":ht,"#DB4B25":dt}}},lashes:{hasCheckBox:!0,defaultDisplayed:!1,elements:{1:{default:Nt}}},eyes:{elements:{big_3:{"#009FD4":mt,"#563B0C":wt,"#119D5A":At},big:{"#009FD4":gt,"#563B0C":_t,"#119D5A":vt},big_2:{"#009FD4":ft,"#563B0C":yt,"#119D5A":bt},normal:{"#009FD4":kt,"#563B0C":Dt,"#119D5A":Bt},skinny:{"#009FD4":Ct,"#563B0C":xt,"#119D5A":Ft}}},eyebrows:{elements:{1:{default:Ot},2:{default:Lt},3:{default:Pt},4:{default:Ut},5:{default:Et}}},glasses:{hasCheckBox:!0,defaultDisplayed:!0,elements:{1:{default:St},2:{default:Tt}}},nose:{elements:{1:{default:jt},2:{default:It},3:{default:Xt},4:{default:Yt},5:{default:Mt},6:{default:zt},7:{default:qt},8:{default:$t}}},mouth:{elements:{mouth_1:{"#AD7A66":Ht,"#B96DAD":Ht,"#D23A34":Ht},mouth_2:{"#AD7A66":Kt,"#B96DAD":Kt,"#D23A34":Kt},lips_1:{"#AD7A66":Rt,"#B96DAD":Gt,"#D23A34":Wt},lips_2:{"#AD7A66":Jt,"#B96DAD":Qt,"#D23A34":Vt},lips_3:{"#AD7A66":Zt,"#B96DAD":te,"#D23A34":ee},lips_4:{"#AD7A66":se,"#B96DAD":re,"#D23A34":ae}}},mustache:{hasCheckBox:!0,defaultDisplayed:!1,elements:{beard:{"#2F2B2C":ne,"#F4EDC9":ie,"#6A604F":oe,"#747678":pe,"#6B4099":le,"#DB4B25":ue},goatee:{"#2F2B2C":ce,"#F4EDC9":he,"#6A604F":de,"#747678":ge,"#6B4099":_e,"#DB4B25":ve},mustache:{"#2F2B2C":fe,"#F4EDC9":ye,"#6A604F":be,"#747678":me,"#6B4099":we,"#DB4B25":Ae}}},ear:{hideToolPanel:!0,elements:{default:{white:ke,tan:De,chocolate:Be,brown:Ce,black:xe}}},earings:{hasCheckBox:!0,defaultDisplayed:!1,elements:{1:{default:Fe},2:{default:Oe},3:{default:Le}}},watch:{hasCheckBox:!0,defaultDisplayed:!0,elements:{0:{default:Pe}}},text:{hideToolPanel:!0,elements:{default:{dark:Ee,light:Ue}}},textCarma:{hideToolPanel:!0,elements:{0:{default:Ne}}},lightningOurPath:{hideToolPanel:!0,elements:{default:{dark:Te,light:Se}}}};var Ie=function(){function t(t){var e=t.container,s=t.name,r=t.config,a=t.updateCallback,n=this;this.pickedOptionIndex=0,this.container=e,this.name=s,this.config=r,this.updateUrl=function(){return a(s,"url",n.getCurrentUrl())},this.updateDisplayed=function(t){return a(s,"displayed",t)},this.itemOptions=Object.keys(this.config.elements),this.itemColors=Object.keys(this.config.elements[this.itemOptions[0]]),this.pickedColor=this.itemColors[0],this.render()}return t.prototype.render=function(){var t,e,a=this,i=n({className:"ToolPanel__group"}),o=(t={className:"ToolPanel__title"},e=[this.name],s("p",t,e)),p=function(t,e){var a=s("input",t,e);if(t){var n=t.type,i=t.accept,o=t.autocomplete,p=t.checked,l=t.inputmode,u=t.list,c=t.max,h=t.maxlength,d=t.min,g=t.minlength,_=t.multiple,v=t.pattern,f=t.placeholder,y=t.readonly,b=t.required,m=t.size,w=t.spellcheck,A=t.src,k=t.step,D=t.onchange;r(a,t),n&&a.setAttribute("type",n),i&&a.setAttribute("accept",i),o&&a.setAttribute("autocomplete",o),p&&a.setAttribute("checked","true"),l&&(a.inputMode=l),u&&a.setAttribute("list",u),c&&a.setAttribute("max",c),h&&a.setAttribute("maxlength",h),d&&a.setAttribute("min",d),g&&a.setAttribute("minlength",g),_&&a.setAttribute("multiple","true"),v&&a.setAttribute("pattern",v),f&&a.setAttribute("placeholder",f),y&&a.setAttribute("readonly","true"),b&&a.setAttribute("required","true"),m&&a.setAttribute("size",m),w&&a.setAttribute("spellcheck","true"),A&&a.setAttribute("src",A),k&&a.setAttribute("step",String(k)),D&&(a.onchange=D)}return a}({type:"checkbox",className:"ToolPanel__checkbox",checked:this.config.defaultDisplayed,onchange:function(t){return a.updateDisplayed(t.target.checked)}}),l=function(t,e){var r=s("label",t,e);return t&&t.for&&r.setAttribute("for",t.for),r}({className:"ToolPanel__titleWithCheckbox"},[p,o]),u=this.itemOptions.length>1?this.renderButtons():null,c=this.itemColors.length>1?this.renderColors():null;this.config.hasCheckBox?i.append(l):i.append(o),u&&i.append(u),c&&i.append(c),this.container.append(i)},t.prototype.renderButtons=function(){var t=this,e=n({className:"ToolPanel__buttons"}),s=a({className:"ToolPanel__prevButton",onclick:function(){t.previousOption()}},["<"]),r=a({className:"ToolPanel__nextButton",onclick:function(){t.nextOption()}},[">"]);return e.append(s),e.append(r),e},t.prototype.renderColors=function(){var t=this,e=n({className:"ToolPanel__colorPicker"});return this.itemColors.forEach((function(s){var r=n({className:"ToolPanel__colorCircle"});r.setAttribute("style","background: ".concat(s)),r.onclick=function(){return t.setColor(s)},e.append(r)})),e},t.prototype.nextOption=function(){this.pickedOptionIndex===this.itemOptions.length-1?this.pickedOptionIndex=0:this.pickedOptionIndex+=1,this.updateUrl()},t.prototype.previousOption=function(){0===this.pickedOptionIndex?this.pickedOptionIndex=this.itemOptions.length-1:this.pickedOptionIndex-=1,this.updateUrl()},t.prototype.setColor=function(t){this.pickedColor=t,this.updateUrl()},t.prototype.getCurrentUrl=function(){return this.config.elements[this.itemOptions[this.pickedOptionIndex]][this.pickedColor]},t}();const Xe=Ie;const Ye=function(){function t(t,e,s){this.toolPanelItems=[],this.container=t,this.elements=e,this.update=s,this.render()}return t.prototype.render=function(){var t=this,e=n({className:"ToolPanel"});Object.entries(this.elements).forEach((function(s){var r=s[0],a=s[1];a.hideToolPanel||t.toolPanelItems.push(new Xe({container:e,name:r,config:a,updateCallback:t.update}))})),this.container.append(e)},t}();var Me,ze=((Me={})[x]=ke,Me[F]=De,Me[O]=Be,Me[L]=Ce,Me[P]=xe,Me);var qe,$e=((qe={})[f]=Ue,qe[y]=Ee,qe);var He,Ke=((He={})[f]=Se,He[y]=Te,He);var Re=n({id:"block-container",className:"blockContainer"});document.body.append(Re);var Ge=n({className:"Avatar"});Re.append(Ge);var We=n({className:"Avatar__imageContainer"});Ge.append(We);var Je=n({id:"image-container",className:"Avatar__image"});We.append(Je);var Qe=function(t){Je.innerHTML="",t.forEach((function(t){Je.append(function(t){var s=new Image;if(t){e(s,t);var r=t.alt,a=t.crossorigin,n=t.decoding,i=t.ismap,o=t.src;r&&(s.alt=r),a&&(s.crossOrigin=a),n&&(s.decoding=n),i&&(s.isMap=i),o&&(s.src=o)}return s}({src:t,className:"Avatar__layer"}))}))},Ve=new g((function(t){Qe(Object.entries(t).filter((function(t){return t[1].displayed})).map((function(e){var s=e[0];return t[s].url})))}));Ve.set(Object.entries(je).map((function(t){var e=t[0],s=t[1],r=s.defaultDisplayed,a=Object.values(s.elements)[0],n={name:e,url:Object.values(a)[0],displayed:r};return"face"===e&&(n.onUrlUpdated=function(t){Ve.update("ear","url",ze[t])}),"background"===e&&(n.onUrlUpdated=function(t){Ve.update("text","url",$e[t]),Ve.update("lightningOurPath","url",function(t){return Ke[t]}(t))}),n})));var Ze=new v(Ve,Qe),ts=n({className:"Avatar__toolPanelContainer"});Ge.append(ts),new Ye(ts,je,(function(t,e,s){Ve.update(t,e,s)}));var es=a({onclick:function(){return Ze.save()},className:"button"},["Download"]);ts.append(es)})();